# 矩陣
# 矩陣或陣列 = 向量 + dim()

x <- matrix(1:18, 6, 3)
> x
     [,1] [,2] [,3]
[1,]    1    7   13
[2,]    2    8   14
[3,]    3    9   15
[4,]    4   10   16
[5,]    5   11   17
[6,]    6   12   18

# `dim`不是matrix的參數，而是屬性
> attributes(x)
$dim
[1] 6 3

> dim(x)
[1] 6 3
# 還可以改呢！

dim(x) <- c(3, 3, 2)
# 等於
# > array(1:18, c(3, 3, 2))
, , 1

     [,1] [,2] [,3]
[1,]    1    4    7
[2,]    2    5    8
[3,]    3    6    9

, , 2

     [,1] [,2] [,3]
[1,]   10   13   16
[2,]   11   14   17
[3,]   12   15   18


> x
, , 1

     [,1] [,2] [,3]
[1,]    1    4    7
[2,]    2    5    8
[3,]    3    6    9

, , 2

     [,1] [,2] [,3]
[1,]   10   13   16
[2,]   11   14   17
[3,]   12   15   18

# 改值、計算
> x[1,1,1] <- 2

> c(1,2,3) + c(2,4,6)
[1] 3 6 9
> c(1,2,3) + 2
[1] 3 4 5

# col不動，以row按照121212填滿
> matrix(1:4, 2, 2) + 1:2
     [,1] [,2]
[1,]    2    4
[2,]    4    6

# 被解散惹QAQ，打散的向量
> dim(x) <- NULL
> x
 [1]  3  3  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18


# 矩陣或陣列 = 向量 + dim()


# 橫向發展`cbind`
> cbind(matrix(1:4, 2, 2), matrix(1:4, 2, 2))
     [,1] [,2] [,3] [,4]
[1,]    1    3    1    3
[2,]    2    4    2    4

# 縱向拉長
> rbind(matrix(1:4, 2, 2), matrix(1:4, 2, 2))
     [,1] [,2]
[1,]    1    3
[2,]    2    4
[3,]    1    3
[4,]    2    4

> matrix(1:6, 2, 3) %*% matrix(3:8, 3, 2)
     [,1] [,2]
[1,]   40   67
[2,]   52   88

# 轉置矩陣：橫變直、直變橫
> t(matrix(1:4, 2, 2))
     [,1] [,2]
[1,]    1    2
[2,]    3    4

# 對角化矩陣
> diag(1,3)
     [,1] [,2] [,3]
[1,]    1    0    0
[2,]    0    1    0
[3,]    0    0    1

# `solve()`
# A %*% x = b 
# A <- matrix(1:4, 2, 2)
# b <- c(3, 8)
# 求x
x <- solve(A, b)

# 反矩陣：左下交換，右上加負號，除以行列運算
> solve(A)
     [,1] [,2]
[1,]   -2  1.5
[2,]    1 -0.5

